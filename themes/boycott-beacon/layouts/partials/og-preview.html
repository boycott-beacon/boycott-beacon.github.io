{{ $ogImage := "" }}
{{ with .Resources.GetMatch "og.png" }}
{{ $ogImage = .RelPermalink }}
{{ end }}

{{/* Only render the preview if an image is found */}}
{{ if $ogImage }}
<div class="og-preview-wrapper">
  <div class="og-preview-container">
    <div class="og-preview-image" style="background-image: url('{{ $ogImage }}')">
      <!-- Dark overlay covering entire image area -->
      <div class="image-dark-overlay"></div>

      <!-- Social share buttons -->
      <div class="social-share-overlay">
        <div class="social-icons-container">
          <a href="https://twitter.com/intent/tweet?url={{ .Permalink | absURL }}&text={{ .Title | urlquery }}"
             target="_blank" rel="noopener" class="social-icon twitter" title="Share on Twitter">
            <i class="ti-twitter-alt"></i>
          </a>
          <a href="https://www.facebook.com/sharer/sharer.php?u={{ .Permalink | absURL }}"
             target="_blank" rel="noopener" class="social-icon facebook" title="Share on Facebook">
            <i class="ti-facebook"></i>
          </a>
          <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ .Permalink | absURL }}&title={{ .Title | urlquery }}"
             target="_blank" rel="noopener" class="social-icon linkedin" title="Share on LinkedIn">
            <i class="ti-linkedin"></i>
          </a>
        </div>
      </div>
    </div>

    <!-- Sharing runner at bottom -->
    <div class="sharing-runner">
      <span>Sharing is Support</span>
      <div class="runner-icons">
        <i class="ti-twitter-alt"></i>
        <i class="ti-facebook"></i>
        <i class="ti-linkedin"></i>
      </div>
    </div>
  </div>
</div>
{{ end }}
